(function(){"use strict";var e={9377:function(e,t,n){var o=n(4161);const s="https://8fc1-190-181-13-106.ngrok-free.app/api",a={baseURL:s,headers:{"Content-type":"application/json"}},i=o.Z.create(a);t.Z=i},3383:function(e,t,n){var o=n(9242),s=n(7729),a=n(3396),i=n(4870),l=n(7139),r=n.p+"img/300-1.259ced1d.jpg",c=n.p+"img/logo3.2643d674.png";function u(){console.log("cargando modulos js");const e=document.querySelector("body"),t=e.querySelector(".ksidebar"),n=e.querySelector(".toggle"),o=e.querySelector(".knavbar"),s=e.querySelectorAll(".menu-links"),a=e.querySelector(".toggle-switch"),i=e.querySelector(".mode-text");n.addEventListener("click",(()=>{t.classList.toggle("close"),o.classList.toggle("close")})),a.addEventListener("click",(()=>{e.classList.toggle("dark"),e.classList.contains("dark")?i.innerText="Light Mode":i.innerText="Dark Mode"})),s.forEach((e=>{let t=e.querySelector(".has-submenu");t&&t.addEventListener("click",(()=>{t.classList.toggle("active");let n=e.querySelector(".submenu");n&&(n.classList.toggle("open"),console.log(n))})),console.log(t)}))}var d=n(2483),m=n(65);const p={key:0},g={class:"knavbar",role:"navigation"},v={class:"kitems-left"},h={class:"knavbar-item"},f={class:"kitems-right"},_=(0,a._)("li",{class:"knavbar-item"},[(0,a._)("a",{href:"",class:"kicon"},[(0,a._)("i",{class:"duotone icon-groups"})])],-1),b={class:"kdropdown"},w={href:"#",class:""},y=(0,a._)("img",{class:"avatar-user",src:r,alt:""},null,-1),x=(0,a.uE)('<ul class="kdropdown-content"><li class="kdropdown-item"><i class="bx bxs-user"></i> Perfil </li><li class="kdropdown-item"><i class="bx bx-refresh"></i> cambiar rol </li><li class="kdropdown-item"><i class="bx bx-log-out"></i> cerrar sesion </li></ul>',1),k={class:"ksidebar"},Z=(0,a.uE)('<header><div class="image-text"><span class="image"><img src="'+c+'" alt="logo"></span><div class="text header-text"><span class="name"> Experiencia IRP</span><span class="profession"></span></div></div><div class="toggle"><i class="duotone icon-angle-double-right"></i></div></header>',1),S={class:"menu-bar"},C={class:"menu"},q={class:"menu-links"},I={class:"nav-link"},P=(0,a._)("div",{class:"icon"},[(0,a._)("i",{class:"duotone icon-menu"})],-1),A=(0,a._)("span",{class:"text nav-text"}," Inicio ",-1),T={class:"menu-links"},E={class:"nav-link"},O=(0,a._)("div",{class:"icon"},[(0,a._)("i",{class:"duotone icon-users"})],-1),j=(0,a._)("span",{class:"text nav-text"}," Clientes ",-1),L=(0,a.uE)('<ul class="menu-links"><li class="nav-link"><a href="#"><div class="icon"><i class="duotone icon-home"></i></div><span class="text nav-text"> Sucursales </span></a></li></ul>',1),D={class:"menu-links"},W=(0,a.uE)('<li class="nav-link"><a href="#" class="has-submenu"><div class="icon"><i class="duotone icon-screwdriver"></i></div><span class="text"> Parametros </span><i class="bx bx-chevron-right arrow"></i></a></li>',1),M={class:"submenu"},R={class:"nav-link"},U=(0,a._)("div",{class:"icon"},[(0,a._)("i",{class:"duotone icon-manage-user"})],-1),F=(0,a._)("span",{class:"text nav-text"}," Tipos de Persona ",-1),N={class:"nav-link"},V=(0,a._)("div",{class:"icon"},[(0,a._)("i",{class:"bx bxs-city"})],-1),$=(0,a._)("span",{class:"text nav-text"}," Ciudades ",-1),B={class:"nav-link"},J=(0,a._)("div",{class:"icon"},[(0,a._)("i",{class:"bx bxs-map-alt"})],-1),z=(0,a._)("span",{class:"text nav-text"}," Paises ",-1),G=(0,a.uE)('<div class="bottom-content"><li class="nav-link"><a href="#"><i class="bx bx-log-out icon"></i><span class="text nav-text"> Cerrar Session </span></a></li><li class="mode"><div class="moon-sun"><i class="bx bx-moon icon moon"></i><i class="bx bx-sun icon sun"></i></div><span class="mode-text text">Dark Mode</span><div class="toggle-switch"><span class="switch"></span></div></li></div>',1),H={class:"home"},Y={class:"kcontainer"},K={key:1};var Q={__name:"App",setup(e){const t=(0,d.tv)(),n=(0,d.yj)(),o=(0,m.oR)(),s=(0,a.Fl)((()=>o.state.auth.user)),r=(0,a.Fl)((()=>o.state.auth.account));return(0,a.bv)((async()=>{try{await new Promise((e=>setTimeout(e,2e3))),console.log(n.meta),n.meta.requireAuth&&u()}catch(e){console.log(e)}t.beforeEach(((e,t,n)=>{"login"===e.name||o.state.auth.status.loggedIn?n():n({name:"login"})})),t.afterEach((async(e,t)=>{"/"==e.fullPath&&o.state.auth.status.loggedIn&&(await new Promise((e=>setTimeout(e,1e3))),console.log(n.meta),n.meta.requireAuth&&u())}))})),(e,t)=>{const o=(0,a.up)("Toast"),c=(0,a.up)("ConfirmDialog"),u=(0,a.up)("router-link"),d=(0,a.up)("router-view");return(0,i.SU)(n).meta.requireAuth?((0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)(o,{position:"bottom-right"}),(0,a.Wm)(c),(0,a._)("nav",g,[(0,a._)("ul",v,[(0,a._)("li",h,(0,l.zw)(r.value?.account_name??""),1)]),(0,a._)("ul",f,[_,(0,a._)("li",b,[(0,a._)("a",w,[y,(0,a.Uk)(" "+(0,l.zw)(s.value?.person.names??""),1)]),x])])]),(0,a._)("nav",k,[Z,(0,a._)("div",S,[(0,a._)("div",C,[(0,a._)("ul",q,[(0,a._)("li",I,[(0,a.Wm)(u,{to:"/",class:"has-icon"},{default:(0,a.w5)((()=>[P,A])),_:1})])]),(0,a._)("ul",T,[(0,a._)("li",E,[(0,a.Wm)(u,{to:"/clients",class:"has-icon"},{default:(0,a.w5)((()=>[O,j])),_:1})])]),L,(0,a._)("ul",D,[W,(0,a._)("ul",M,[(0,a._)("li",R,[(0,a.Wm)(u,{to:"/type_person",class:"has-icon"},{default:(0,a.w5)((()=>[U,F])),_:1})]),(0,a._)("li",N,[(0,a.Wm)(u,{to:"/city",class:"has-icon"},{default:(0,a.w5)((()=>[V,$])),_:1})]),(0,a._)("li",B,[(0,a.Wm)(u,{to:"/country",class:"has-icon"},{default:(0,a.w5)((()=>[J,z])),_:1})])])])]),G])]),(0,a._)("section",H,[(0,a._)("div",Y,[(0,a.Wm)(d)])])])):((0,a.wg)(),(0,a.iD)("div",K,[(0,a.Wm)(d)]))}}};const X=Q;var ee=X;const te={class:"home"};function ne(e,t,n,o,s,i){return(0,a.wg)(),(0,a.iD)("div",te)}var oe=(0,a.aZ)({name:"HomeView",components:{}}),se=n(89);const ae=(0,se.Z)(oe,[["render",ne]]);var ie=ae;const le={class:"limiter"},re={class:"container-login100"},ce={class:"wrap-login100"},ue={class:"login-logo"},de={class:"login100-pic js-tilt","data-tilt":"","data-tilt-scale":"1.1",ref:"tiltRef"},me=(0,a._)("img",{src:"/logo2.png",alt:"IMG"},null,-1),pe=[me],ge={class:"login-content"},ve={class:"login100-form validate-form"},he=(0,a._)("span",{class:"login100-form-title"}," Experiencia IRP ",-1),fe={class:"owl"},_e={class:"arms"},be={class:"wrap-input100 validate-input","data-validate":"Valid email is required: ex@abc.xyz"},we=(0,a._)("span",{class:"focus-input100"},null,-1),ye=(0,a._)("span",{class:"symbol-input100"},[(0,a._)("i",{class:"bx bxs-user","aria-hidden":"true"})],-1),xe={class:"wrap-input100 validate-input","data-validate":"Password is required"},ke=(0,a._)("span",{class:"focus-input100"},null,-1),Ze=(0,a._)("span",{class:"symbol-input100"},[(0,a._)("i",{class:"bx bxs-lock-alt","aria-hidden":"true"})],-1),Se={class:"container-login100-form-btn"};function Ce(e,t,n,s,i,r){const c=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,{position:"bottom-right"}),(0,a._)("div",le,[(0,a._)("div",re,[(0,a._)("div",ce,[(0,a._)("div",ue,[(0,a._)("div",de,pe,512)]),(0,a._)("div",ge,[(0,a._)("div",ve,[he,(0,a._)("div",fe,[(0,a._)("div",{class:(0,l.C_)(e.owl_hide?"hand password":"hand")},null,2),(0,a._)("div",{class:(0,l.C_)(e.owl_hide?"hand hand-r password":"hand hand-r")},null,2),(0,a._)("div",_e,[(0,a._)("div",{class:(0,l.C_)(e.owl_hide?"arm password":"arm")},null,2),(0,a._)("div",{class:(0,l.C_)(e.owl_hide?"arm arm-r password":"arm arm-r")},null,2)])]),(0,a._)("div",be,[(0,a.wy)((0,a._)("input",{class:"input100",type:"text",name:"user",placeholder:"Usuario","onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t)},null,512),[[o.nr,e.username]]),we,ye]),(0,a._)("div",xe,[(0,a.wy)((0,a._)("input",{class:"input100",type:"password",name:"pass",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),onFocus:t[2]||(t[2]=t=>e.owl_hide=!0),onBlur:t[3]||(t[3]=t=>e.owl_hide=!1)},null,544),[[o.nr,e.password]]),ke,Ze]),(0,a._)("div",Se,[(0,a._)("button",{type:"button",class:"login100-form-btn",onClick:t[4]||(t[4]=e=>r.getValidate())}," Iniciar SesiÃ³n ")])])])])])])],64)}n(7658);var qe=n(1123),Ie=n.n(qe),Pe={name:"loginComponent",data:()=>({username:"",password:"",owl_hide:!1}),mounted(){Ie().init(this.$refs.tiltRef)},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},methods:{getValidate(){console.log("Validando datos"),this.handleLogin()},handleLogin(){this.loading=!0,this.$store.dispatch("auth/login",{username:this.username,password:this.password}).then((e=>{console.log(e),200===e.status?this.$router.push("/"):this.$toast.add({severity:"info",summary:"Autentificacion",detail:"Usuario y/o password incorrectos",life:3e3})}),(e=>{401===e.response.data.statusCode&&this.$toast.add({severity:"info",summary:"Autentificacion",detail:"Usuario y/o password incorrectos",life:3e3}),console.log("error xd",e)}))}}};const Ae=(0,se.Z)(Pe,[["render",Ce]]);var Te=Ae;const Ee=[{path:"/",name:"home",component:ie,meta:{requireAuth:!0}},{path:"/login",name:"login",component:Te,meta:{requireAuth:!1}},{path:"/type_person",name:"type_person",component:()=>n.e(815).then(n.bind(n,1815)),meta:{requireAuth:!0}},{path:"/city",name:"city",component:()=>n.e(230).then(n.bind(n,230)),meta:{requireAuth:!0}},{path:"/country",name:"country",component:()=>n.e(407).then(n.bind(n,2407)),meta:{requireAuth:!0}},{path:"/clients",name:"clients",component:()=>n.e(600).then(n.bind(n,3600)),meta:{requireAuth:!0}},{path:"/clients/create",name:"clients_create",component:()=>n.e(198).then(n.bind(n,1198)),meta:{requireAuth:!0}}],Oe=(0,d.p7)({history:(0,d.PO)("/"),routes:Ee});var je=Oe,Le=n(9377);class De{login(e){return Le.Z.post("/auth/login",{username:e.username,password:e.password}).then((e=>(localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("account",JSON.stringify(e.data.account)),console.log(e),e)))}logout(){localStorage.removeItem("user"),localStorage.removeItem("rol"),localStorage.removeItem("institution")}}var We=new De;const Me=JSON.parse(localStorage.getItem("user")??"{}"),Re=JSON.parse(localStorage.getItem("account")??"{}"),Ue=Me?{status:{loggedIn:!0},user:Me,account:Re}:{status:{loggedIn:!1},user:null,account:null},Fe={namespaced:!0,state:Ue,actions:{login({commit:e},t){return We.login(t).then((t=>(e("loginSuccess",t),Promise.resolve(t))),(t=>(e("loginFailure"),Promise.reject(t))))},logout({commit:e}){We.logout(),e("logout")}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null}}};var Ne=(0,m.MT)({state:{},getters:{},mutations:{},actions:{},modules:{auth:Fe}}),Ve=n(8852),$e=n(3717),Be=n(106),Je=n(3235),ze=n(1826),Ge=n(606),He=n(6709),Ye=n(9759),Ke=n(1652),Qe=n(5517),Xe=n(3647),et=n(3602),tt=n(8477),nt=n(4463),ot=n(2921),st=n(8905),at=n(2822),it=n(4914),lt=n(3585),rt=n(2439),ct=n(7834),ut=n(8459),dt=n(9719),mt=n(9511),pt=n(9203),gt=n(9870),vt=n(9877),ht=n(7528);(0,o.ri)(ee).directive("tooltip",lt.Z).component("DataTable",Ve.Z).component("Column",$e.Z).component("ColumnGroup",Be.Z).component("Row",Je.Z).component("Button",ze.Z).component("Card",Ge.Z).component("InputText",He.Z).component("Accordion",Ye.Z).component("AccordionTab",Ke.Z).component("Dropdown",Qe.Z).component("Divider",Xe.Z).component("Checkbox",et.Z).component("Toast",dt.Z).component("Calendar",tt.Z).component("Tag",pt.Z).component("Panel",nt.Z).component("Dialog",ot.Z).component("Toolbar",gt.Z).component("SelectButton",st.Z).component("Listbox",at.Z).component("RadioButton",it.Z).component("inline-svg",vt.Z).component("Avatar",ht.Z).component("InputSwitch",rt.Z).component("ConfirmDialog",ct.Z).use(mt.Z).use(ut.Z).use(s.ZP).use(Ne).use(je).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,a){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],a=e[u][2];for(var l=!0,r=0;r<o.length;r++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[r])}))?o.splice(r--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{198:"79586b24",230:"ba2dfd5c",407:"c8570c93",600:"5f7da88d",815:"3d556b03"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="loan_system:";n.l=function(o,s,a,i){if(e[o])e[o].push(s);else{var l,r;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){l=d;break}}l||(r=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+a),l.src=o),e[o]=[s];var m=function(t,n){l.onerror=l.onload=null,clearTimeout(p);var s=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),s&&s.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),r&&document.head.appendChild(l)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,o){var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)o.push(s[2]);else{var a=new Promise((function(n,o){s=e[t]=[n,o]}));o.push(s[2]=a);var i=n.p+n.u(t),l=new Error,r=function(o){if(n.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,s[1](l)}};n.l(i,r,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,i=o[0],l=o[1],r=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(r)var u=r(n)}for(t&&t(o);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},o=self["webpackChunkloan_system"]=self["webpackChunkloan_system"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3383)}));o=n.O(o)})();
//# sourceMappingURL=app.f762ad0b.js.map