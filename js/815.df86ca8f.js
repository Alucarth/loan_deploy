"use strict";(self["webpackChunkloan_system"]=self["webpackChunkloan_system"]||[]).push([[815],{7252:function(e,a,t){var l=t(9377);class r{getAll(){return l.Z.get("/person_type")}create(e){return l.Z.post("/person_type",e)}delete(e){return l.Z["delete"](`/person_type/${e}`)}}a.Z=new r},1815:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var l=t(3396),r=t(7139),i=t(4870),o=t(7252),s=t(3435),n=t(2724),u=t(7046);const c={class:"flex justify-content-between"},d={class:"p-input-icon-left"},m=(0,l._)("i",{class:"bx bx-search-alt-2"},null,-1),v={class:"flex"},p={class:"field"},f=(0,l._)("label",{for:"firstname1"},"Nombre",-1),y={class:"field flex align-content-center"},b={for:"firstname1",class:"pr-2"};var w={__name:"ListView",setup(e){const a=(0,u.N)(),t=(0,s.p)(),w=(0,i.iH)([]),g=(0,i.iH)(!1),h=(0,i.iH)({global:{value:null,matchMode:n.a6.CONTAINS},name:{operator:n.pg.AND,constraints:[{value:null,matchMode:n.a6.CONTAINS}]}}),_=(0,i.iH)({}),C=()=>{g.value=!0,_.value={}},x=e=>{g.value=!0,_.value=e},W=async()=>{try{let e=_.value;e.state=_.value.state??!1;let a=await o.Z.create(e);201===a.status&&t.add({severity:"success",summary:"Registro Completado",detail:`Se registro "${a.data.name}"`,life:3e3}),404!==a.status&&500!==a.status||t.add({severity:"error",summary:"Error",detail:"Favor de contactarse con el soporte tecnico",life:3e3}),g.value=!1,E()}catch(e){t.add({severity:"error",summary:"Error",detail:"Error de conexion",life:3e3})}},k=e=>{_.value=e,a.require({message:"Esta de acuerdo con eliminar el registro?",header:"Confirmacion de Eliminacion",icon:"pi pi-info-circle",acceptClass:"p-button-danger",acceptLabel:"Si",accept:async()=>{try{let e=await o.Z["delete"](_.value.id);200===e.status&&(E(),t.add({severity:"info",summary:"Confirmacion",detail:"Se elimino el registro",life:3e3}))}catch(e){t.add({severity:"error",summary:"Error",detail:"no se pudo eliminar el registro ",life:3e3})}},reject:()=>{}})},E=async()=>{try{let e=await o.Z.getAll();200===e.status&&(w.value=e.data),404!==e.status&&500!==e.status||t.add({severity:"error",summary:"Error",detail:"Favor de contactarse con el soporte tecnico",life:3e3})}catch(e){t.add({severity:"error",summary:"Error",detail:"Error de conexion",life:3e3})}};return(0,l.bv)((()=>{E()})),(e,a)=>{const t=(0,l.up)("Button"),i=(0,l.up)("InputText"),o=(0,l.up)("Column"),s=(0,l.up)("Tag"),n=(0,l.up)("DataTable"),u=(0,l.up)("Card"),E=(0,l.up)("InputSwitch"),N=(0,l.up)("Dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(u,null,{title:(0,l.w5)((()=>[(0,l.Uk)(" Tipos de Persona ")])),content:(0,l.w5)((()=>[(0,l.Wm)(n,{filters:h.value,"onUpdate:filters":a[1]||(a[1]=e=>h.value=e),value:w.value,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50]},{header:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l.Wm)(t,{type:"button",label:"Nuevo",icon:"pi pi-plus",onClick:C}),(0,l._)("span",d,[m,(0,l.Wm)(i,{modelValue:h.value["global"].value,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value["global"].value=e),placeholder:"Buscar"},null,8,["modelValue"])])])])),default:(0,l.w5)((()=>[(0,l.Wm)(o,{field:"name",header:"Nombre"}),(0,l.Wm)(o,{field:"state",header:"Estado"},{body:(0,l.w5)((e=>[(0,l.Wm)(s,{value:e.data.state?"Activo":"Inactivo",severity:e.data.state?"success":"secondary"},null,8,["value","severity"])])),_:1}),(0,l.Wm)(o,{field:"actions",header:""},{body:(0,l.w5)((e=>[(0,l._)("div",v,[(0,l.Wm)(t,{icon:"bx bxs-pencil",style:{"font-size":"1.2rem"},severity:"info",text:"",rounded:"","aria-label":"User",onClick:a=>x(e.data)},null,8,["onClick"]),(0,l.Wm)(t,{icon:"bx bxs-trash-alt",style:{"font-size":"1.2rem"},severity:"danger",text:"",rounded:"","aria-label":"Cancel",onClick:a=>k(e.data)},null,8,["onClick"])])])),_:1})])),_:1},8,["filters","value"])])),_:1}),(0,l.Wm)(N,{visible:g.value,"onUpdate:visible":a[5]||(a[5]=e=>g.value=e),modal:"",header:_.value.id?"Editar":"Nuevo",style:{width:"50vw"}},{footer:(0,l.w5)((()=>[(0,l.Wm)(t,{label:"Cancelar",icon:"pi pi-times",onClick:a[4]||(a[4]=e=>g.value=!1),text:""}),(0,l.Wm)(t,{label:"Guardar",icon:"pi pi-check",onClick:W})])),default:(0,l.w5)((()=>[(0,l._)("div",p,[f,(0,l.Wm)(i,{type:"text",modelValue:_.value.name,"onUpdate:modelValue":a[2]||(a[2]=e=>_.value.name=e),class:"w-full"},null,8,["modelValue"])]),(0,l._)("div",y,[(0,l._)("label",b,(0,r.zw)(_.value.state?"Activo":"Inactivo"),1),(0,l.Wm)(E,{modelValue:_.value.state,"onUpdate:modelValue":a[3]||(a[3]=e=>_.value.state=e)},null,8,["modelValue"])])])),_:1},8,["visible","header"])],64)}}};const g=w;var h=g}}]);
//# sourceMappingURL=815.df86ca8f.js.map