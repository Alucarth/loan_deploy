"use strict";(self["webpackChunkloan_system"]=self["webpackChunkloan_system"]||[]).push([[916],{9822:function(e,l,a){var t=a(9377);class n{getAll(){return t.Z.get("/person/clients")}create(e){return t.Z.post("/person",e)}createReferences(e){return t.Z.post("/person/reference",e)}show(e){return t.Z.get(`/person/${e}`)}getReferences(e){return t.Z.get(`/person/references/${e}`)}}l.Z=new n},5916:function(e,l,a){a.r(l),a.d(l,{default:function(){return g}});a(7658);var t=a(3396),n=a(4870),s=a(2724),r=a(3435),o=a(9822),i=a(2483),u=a(7046);const c={class:"columns"},d=(0,t._)("div",{class:"column"}," Clientes ",-1),m={class:"column is-flex is-justify-content-end"},p={class:"is-flex is-justify-content-end"},f={class:"p-input-icon-left"},h=(0,t._)("i",{class:"bx bx-search"},null,-1),v={class:"flex"};var _=(0,t.aZ)({__name:"ListView",setup(e){const l=(0,u.N)(),a=(0,i.tv)(),_=(0,r.p)(),b=(0,n.iH)(),g=((0,n.iH)(),(0,n.iH)(!1),(0,n.iH)({global:{value:null,matchMode:s.a6.CONTAINS},names:{value:null,matchMode:s.a6.STARTS_WITH},mother_last_name:{value:null,matchMode:s.a6.STARTS_WITH},father_last_name:{value:null,matchMode:s.a6.IN},phone_number:{value:null,matchMode:s.a6.EQUALS}})),y=(0,n.iH)(!1),w=e=>{console.log(e),a.push(`clients/show/${e.id}`)},C=e=>{console.log(e),l.require({message:"Esta de acuerdo con eliminar el registro?",header:"Confirmacion de Eliminacion",icon:"pi pi-info-circle",acceptClass:"p-button-danger",acceptLabel:"Si",accept:async()=>{try{b.value.splice(e,1)}catch(l){_.add({severity:"error",summary:"Error",detail:"no se pudo eliminar el registro ",life:3e3})}},reject:()=>{}})},W=()=>{a.push("clients/create")},x=()=>{o.Z.getAll().then((e=>{b.value=e.data}))};return(0,t.bv)((()=>{x()})),(e,l)=>{const a=(0,t.up)("Button"),n=(0,t.up)("InputText"),s=(0,t.up)("Column"),r=(0,t.up)("DataTable"),o=(0,t.up)("Card");return(0,t.wg)(),(0,t.j4)(o,null,{title:(0,t.w5)((()=>[(0,t._)("div",c,[d,(0,t._)("div",m,[(0,t.Wm)(a,{type:"button",label:"Nuevo Cliente",icon:"fa fa-plus",loading:y.value,onClick:l[0]||(l[0]=e=>W())},null,8,["loading"])])])])),content:(0,t.w5)((()=>[(0,t.Wm)(r,{value:b.value,filters:g.value,"onUpdate:filters":l[2]||(l[2]=e=>g.value=e),paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],size:"small",dataKey:"id",filterDisplay:"row",loading:y.value,globalFilterFields:["first_name","last_name","mother_last_name","zona"]},{header:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t._)("span",f,[h,(0,t.Wm)(n,{modelValue:g.value["global"].value,"onUpdate:modelValue":l[1]||(l[1]=e=>g.value["global"].value=e),placeholder:"Buscar"},null,8,["modelValue"])])])])),default:(0,t.w5)((()=>[(0,t.Wm)(s,{field:"identity_card",header:"CI",sortable:"",style:{width:"25%"}}),(0,t.Wm)(s,{field:"names",header:"Nombres",sortable:"",style:{width:"25%"}}),(0,t.Wm)(s,{field:"father_last_name",header:"Apellido Paterno",sortable:"",style:{width:"25%"}}),(0,t.Wm)(s,{field:"mother_last_name",header:"Apellido Materno",sortable:"",style:{width:"25%"}}),(0,t.Wm)(s,{field:"phone_number",header:"Telefono",sortable:"",style:{width:"25%"}}),(0,t.Wm)(s,{field:"actions",header:"",sortable:""},{body:(0,t.w5)((e=>[(0,t._)("div",v,[(0,t.Wm)(a,{icon:"bx bx-show",style:{"font-size":"1.2rem"},severity:"info",text:"",rounded:"","aria-label":"User",onClick:l=>w(e.data)},null,8,["onClick"]),(0,t.Wm)(a,{icon:"bx bxs-trash-alt",style:{"font-size":"1.2rem"},severity:"danger",text:"",rounded:"","aria-label":"Cancel",onClick:l=>C(e.data)},null,8,["onClick"])])])),_:1})])),_:1},8,["value","filters","loading"])])),_:1})}}});const b=_;var g=b}}]);
//# sourceMappingURL=916.277233cd.js.map