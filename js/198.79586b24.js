"use strict";(self["webpackChunkloan_system"]=self["webpackChunkloan_system"]||[]).push([[198],{4848:function(l,e,a){var o=a(9377);class n{getAll(){return o.Z.get("/city")}create(l){return o.Z.post("/city",l)}delete(l){return o.Z["delete"](`/city/${l}`)}}e.Z=new n},1311:function(l,e,a){var o=a(9377);class n{getAll(){return o.Z.get("/country")}create(l){return o.Z.post("/country",l)}delete(l){return o.Z["delete"](`/country/${l}`)}}e.Z=new n},7252:function(l,e,a){var o=a(9377);class n{getAll(){return o.Z.get("/person_type")}create(l){return o.Z.post("/person_type",l)}delete(l){return o.Z["delete"](`/person_type/${l}`)}}e.Z=new n},1198:function(l,e,a){a.r(e),a.d(e,{default:function(){return oe}});a(7658);var o=a(3396),n=a(9242),t=a(4870),u=a(4848),d=a(1311),s=a(9377);class c{getAll(){return s.Z.get("/person")}create(l){return s.Z.post("/person",l)}}var i=new c,r=a(7252),p=a(2483),m=a(65);const _={class:"grid"},V={class:"col-4"},b=(0,o._)("label",{for:""},"Nombres:",-1),f=(0,o._)("br",null,null,-1),v={class:"col-4"},y=(0,o._)("label",{for:""},"Apellido Paterno:",-1),U=(0,o._)("br",null,null,-1),w={class:"col-4"},k=(0,o._)("label",{for:""},"Apellido Materno:",-1),h=(0,o._)("br",null,null,-1),x={class:"col-3"},g=(0,o._)("label",{for:""},"Carnet de Identidad:",-1),W=(0,o._)("br",null,null,-1),C={class:"col-3"},Z=(0,o._)("label",{for:""},"Extencion:",-1),D=(0,o._)("br",null,null,-1),A={class:"col-3"},H=(0,o._)("label",{for:""},"Ciudad de Expedicion:",-1),T=(0,o._)("br",null,null,-1),j={class:"col-3"},E=(0,o._)("label",{for:""},"Genero:",-1),P=(0,o._)("br",null,null,-1),I={class:"col-3"},M=(0,o._)("label",{for:""},"Dependencia:",-1),O=(0,o._)("br",null,null,-1),R={class:"col-3"},$=(0,o._)("label",{for:""},"Telefono:",-1),F=(0,o._)("br",null,null,-1),G={class:"col-3"},K=(0,o._)("label",{for:""},"Email:",-1),Y=(0,o._)("br",null,null,-1),q=["onClick"],z=(0,o._)("span",{class:"bx bxs-briefcase"},null,-1),L=[z],N=["onClick"],S=(0,o._)("span",{class:"bx bxs-trash-alt"},null,-1),B=[S],J={class:"grid"},Q={class:"col-3"},X=(0,o._)("label",{for:""},"Direccion",-1),ll=(0,o._)("br",null,null,-1),el={class:"col-3"},al=(0,o._)("label",{for:""},"Telefono",-1),ol=(0,o._)("br",null,null,-1),nl={class:"col-3"},tl=(0,o._)("label",{for:""},"Tipo de Direccion",-1),ul=(0,o._)("br",null,null,-1),dl={class:"col-3"},sl=(0,o._)("label",{for:""},"Zona",-1),cl=(0,o._)("br",null,null,-1),il={class:"col-3"},rl=(0,o._)("label",{for:""},"Comentarios",-1),pl=(0,o._)("br",null,null,-1),ml={class:"panel-heading"},_l={class:"flex justify-content-between"},Vl=(0,o._)("div",null," Ocupacion ",-1),bl=["onClick"],fl={class:"panel-block grid"},vl={class:"col-3"},yl=(0,o._)("label",{for:""},"Ocupacion",-1),Ul=(0,o._)("br",null,null,-1),wl={class:"col-3"},kl=(0,o._)("label",{for:""}," Tipo de Ocupacion",-1),hl=(0,o._)("br",null,null,-1),xl={class:"col-3"},gl=(0,o._)("label",{for:""}," Ocupacion Principal",-1),Wl=(0,o._)("br",null,null,-1),Cl={class:"col-3"},Zl=(0,o._)("label",{for:""}," Empresa ",-1),Dl=(0,o._)("br",null,null,-1),Al={class:"col-3"},Hl=(0,o._)("label",{for:""}," Tiempo de Trabajo",-1),Tl=(0,o._)("br",null,null,-1),jl={class:"col-3"},El=(0,o._)("label",{for:""}," Ingresos",-1),Pl=(0,o._)("br",null,null,-1),Il={class:"col-3"},Ml=(0,o._)("label",{for:""}," Periodo de Ingreso",-1),Ol=(0,o._)("br",null,null,-1),Rl={class:"col-3"},$l=(0,o._)("label",{for:""}," Dias Trabajo ",-1),Fl=(0,o._)("br",null,null,-1),Gl={class:"col-3"},Kl=(0,o._)("label",{for:""}," Horas Trabajo ",-1),Yl=(0,o._)("br",null,null,-1),ql={class:"col-3"},zl=(0,o._)("label",{for:""},"Descripcion",-1),Ll=(0,o._)("br",null,null,-1),Nl={class:"table-container w-full"},Sl={class:"table w-full"},Bl=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Nombres "),(0,o._)("th",null,"Apellido Paterno "),(0,o._)("th",null,"Apellido Materno "),(0,o._)("th",null,"Edad"),(0,o._)("th")])],-1),Jl=["onUpdate:modelValue"],Ql=["onUpdate:modelValue"],Xl=["onUpdate:modelValue"],le=["onUpdate:modelValue"];var ee=(0,o.aZ)({__name:"CreateView",setup(l){const e=(0,p.tv)(),a=(0,m.oR)(),s=(0,t.iH)({}),c=(0,t.iH)([{name:"Masculino",id:"M"},{name:"Femenino",id:"F"}]),z=(0,t.qj)([]),S=(0,t.qj)([]),ee=(0,t.iH)([]),ae=(0,t.iH)([]),oe=(0,t.iH)(),ne=(0,t.iH)({}),te=()=>{S.push({})},ue=(0,o.Fl)((()=>a.state.auth.account)),de=l=>{S.splice(l,1)},se=()=>{z.push({ocupations:[]})},ce=l=>{l.push({})},ie=(l,e)=>{l.splice(e,1)},re=l=>{z.splice(l,1)},pe=()=>{u.Z.getAll().then((l=>{console.log(l.data),ee.value=l.data}))},me=()=>{d.Z.getAll().then((l=>{ae.value=l.data}))},_e=(0,t.iH)([]),Ve=()=>{r.Z.getAll().then((l=>{console.log(l.data),_e.value=l.data,_e.value.forEach((l=>{"cliente"===l.name&&(oe.value=l),"referencia"===l.name&&(ne.value=l)}))}))},be=()=>{let l=s.value;l.account_id=ue.value.id,l.identity_card_city_id=s.value.identity_card_city.id,l.person_type_id=oe.value.id,l.gender=s.value.gender.id,console.log("payload",l),i.create(l).then((l=>{console.log(l),e.push("/clients")}))};return(0,o.bv)((()=>{console.log("load component"),pe(),me(),Ve()})),(l,e)=>{const a=(0,o.up)("InputText"),t=(0,o.up)("Dropdown"),u=(0,o.up)("AccordionTab"),d=(0,o.up)("Button"),i=(0,o.up)("Panel"),r=(0,o.up)("Accordion"),p=(0,o.up)("Card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(p,null,{title:(0,o.w5)((()=>[(0,o.Uk)(" Registro de Cliente ")])),content:(0,o.w5)((()=>[(0,o.Wm)(r,{multiple:!0,activeIndex:[0]},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{header:"1. Datos Personales "},{default:(0,o.w5)((()=>[(0,o._)("div",_,[(0,o._)("div",V,[b,(0,o.Uk)(),f,(0,o.Wm)(a,{type:"text",modelValue:s.value.names,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.names=l),class:"w-full"},null,8,["modelValue"])]),(0,o._)("div",v,[y,(0,o.Uk)(),U,(0,o.Wm)(a,{type:"text",modelValue:s.value.father_last_name,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.father_last_name=l),class:"w-full"},null,8,["modelValue"])]),(0,o._)("div",w,[k,(0,o.Uk)(),h,(0,o.Wm)(a,{type:"text",modelValue:s.value.mother_last_name,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.mother_last_name=l),class:"w-full"},null,8,["modelValue"])]),(0,o._)("div",x,[g,(0,o.Uk)(),W,(0,o.Wm)(a,{type:"text",modelValue:s.value.identity_card,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.identity_card=l),class:"w-full"},null,8,["modelValue"])]),(0,o._)("div",C,[Z,(0,o.Uk)(),D,(0,o.Wm)(a,{type:"text",modelValue:s.value.extension,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.extension=l),class:"w-full"},null,8,["modelValue"])]),(0,o._)("div",A,[H,(0,o.Uk)(),T,(0,o.Wm)(t,{modelValue:s.value.identity_card_city,"onUpdate:modelValue":e[5]||(e[5]=l=>s.value.identity_card_city=l),options:ee.value,optionLabel:"short_name",placeholder:"Seleccione Expedicion",class:"w-full"},null,8,["modelValue","options"])]),(0,o._)("div",j,[E,(0,o.Uk)(),P,(0,o.Wm)(t,{modelValue:s.value.gender,"onUpdate:modelValue":e[6]||(e[6]=l=>s.value.gender=l),options:c.value,optionLabel:"name",placeholder:"Seleccione un Genero",class:"w-full"},null,8,["modelValue","options"])]),(0,o._)("div",I,[M,(0,o.Uk)(),O,(0,o.Wm)(a,{type:"text",modelValue:s.value.dependents,"onUpdate:modelValue":e[7]||(e[7]=l=>s.value.dependents=l),class:"w-full"},null,8,["modelValue"])]),(0,o._)("div",R,[$,(0,o.Uk)(),F,(0,o.Wm)(a,{type:"text",modelValue:s.value.personal_number,"onUpdate:modelValue":e[8]||(e[8]=l=>s.value.personal_number=l),class:"w-full"},null,8,["modelValue"])]),(0,o._)("div",G,[K,(0,o.Uk)(),Y,(0,o.Wm)(a,{type:"text",modelValue:s.value.email,"onUpdate:modelValue":e[9]||(e[9]=l=>s.value.email=l),class:"w-full"},null,8,["modelValue"])])])])),_:1}),(0,o.Wm)(u,{header:"2. Direcciones"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{icon:"bx bx-plus",label:"Adicionar Direccion",onClick:e[10]||(e[10]=l=>se()),class:"mb-2"}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(z,((l,e)=>((0,o.wg)(),(0,o.j4)(i,{header:`Direccion ${e+1}`,key:e},{icons:(0,o.w5)((()=>[(0,o._)("button",{class:"p-panel-header-icon p-link mr-2",onClick:e=>ce(l.ocupations)},L,8,q),(0,o._)("button",{class:"p-panel-header-icon p-link mr-2",onClick:l=>re(e)},B,8,N)])),default:(0,o.w5)((()=>[(0,o._)("div",J,[(0,o._)("div",Q,[X,(0,o.Uk)(),ll,(0,o.Wm)(a,{type:"text",modelValue:l.address,"onUpdate:modelValue":e=>l.address=e,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",el,[al,(0,o.Uk)(),ol,(0,o.Wm)(a,{type:"text",modelValue:l.phone_number,"onUpdate:modelValue":e=>l.phone_number=e,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",nl,[tl,(0,o.Uk)(),ul,(0,o.Wm)(a,{type:"text",modelValue:l.property,"onUpdate:modelValue":e=>l.property=e,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",dl,[sl,(0,o.Uk)(),cl,(0,o.Wm)(a,{type:"text",modelValue:l.zone,"onUpdate:modelValue":e=>l.zone=e,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",il,[rl,(0,o.Uk)(),pl,(0,o.Wm)(a,{type:"text",modelValue:l.comments,"onUpdate:modelValue":e=>l.comments=e,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.ocupations,((e,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"panel",key:n},[(0,o._)("div",ml,[(0,o._)("div",_l,[Vl,(0,o._)("div",null,[(0,o._)("i",{class:"bx bxs-trash-alt",onClick:e=>ie(l.ocupations,n)},null,8,bl)])])]),(0,o._)("div",fl,[(0,o._)("div",vl,[yl,(0,o.Uk)(),Ul,(0,o.Wm)(a,{type:"text",modelValue:e.ocupation,"onUpdate:modelValue":l=>e.ocupation=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",wl,[kl,(0,o.Uk)(),hl,(0,o.Wm)(a,{type:"text",modelValue:e.ocupation_type,"onUpdate:modelValue":l=>e.ocupation_type=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",xl,[gl,(0,o.Uk)(),Wl,(0,o.Wm)(a,{type:"text",modelValue:e.main_ocupation,"onUpdate:modelValue":l=>e.main_ocupation=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",Cl,[Zl,(0,o.Uk)(),Dl,(0,o.Wm)(a,{type:"text",modelValue:e.company,"onUpdate:modelValue":l=>e.company=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",Al,[Hl,(0,o.Uk)(),Tl,(0,o.Wm)(a,{type:"text",modelValue:e.ocupation_type,"onUpdate:modelValue":l=>e.ocupation_type=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",jl,[El,(0,o.Uk)(),Pl,(0,o.Wm)(a,{type:"text",modelValue:e.net_income,"onUpdate:modelValue":l=>e.net_income=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",Il,[Ml,(0,o.Uk)(),Ol,(0,o.Wm)(a,{type:"text",modelValue:e.periodicity_income,"onUpdate:modelValue":l=>e.periodicity_income=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",Rl,[$l,(0,o.Uk)(),Fl,(0,o.Wm)(a,{type:"text",modelValue:e.workdays,"onUpdate:modelValue":l=>e.workdays=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",Gl,[Kl,(0,o.Uk)(),Yl,(0,o.Wm)(a,{type:"text",modelValue:e.working_hours,"onUpdate:modelValue":l=>e.working_hours=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",ql,[zl,(0,o.Uk)(),Ll,(0,o.Wm)(a,{type:"text",modelValue:e.description,"onUpdate:modelValue":l=>e.description=l,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])])])])))),128))])])),_:2},1032,["header"])))),128))])),_:1}),(0,o.Wm)(u,{header:"3. Referencias"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{type:"button",label:"Adicionar Referencia",icon:"pi pi-plus",onClick:te}),(0,o._)("div",Nl,[(0,o._)("table",Sl,[Bl,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(S,((l,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{class:"input",type:"text","onUpdate:modelValue":e=>l.names=e,placeholder:""},null,8,Jl),[[n.nr,l.names]])]),(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{class:"input",type:"text","onUpdate:modelValue":e=>l.father_last_name=e,placeholder:""},null,8,Ql),[[n.nr,l.father_last_name]])]),(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{class:"input",type:"text","onUpdate:modelValue":e=>l.mother_last_name=e,placeholder:""},null,8,Xl),[[n.nr,l.mother_last_name]])]),(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{class:"input",type:"text","onUpdate:modelValue":e=>l.age=e,placeholder:""},null,8,le),[[n.nr,l.age]])]),(0,o._)("td",null,[(0,o.Wm)(d,{icon:"bx bxs-trash-alt",severity:"danger",text:"",rounded:"","aria-label":"Cancel",onClick:l=>de(e)},null,8,["onClick"])])])))),128))])])])])),_:1})])),_:1})])),footer:(0,o.w5)((()=>[(0,o.Wm)(d,{icon:"pi pi-check",label:"Guardar",onClick:e[11]||(e[11]=l=>be())}),(0,o.Wm)(d,{icon:"pi pi-times",label:"Cancelar",severity:"secondary",style:{"margin-left":"0.5em"}})])),_:1})])}}});const ae=ee;var oe=ae}}]);
//# sourceMappingURL=198.79586b24.js.map